[profile.default]
src = "contracts"
out = "out"
libs = ["lib"]
solc = "0.8.20"
optimizer = true
optimizer_runs = 200
evm_version = "paris"
via_ir = true
ffi = true

# Exclude legacy contracts from size check (they exceed 24KB)
ignored_error_codes = []

[profile.default.fmt]
line_length = 120
tab_width = 4
bracket_spacing = false
int_types = "long"
multiline_func_header = "params_first"
quote_style = "double"
number_underscore = "thousands"
wrap_comments = true

[lint]
# Enable linting during build (show same warnings as IDE)
lint_on_build = true

# Severity threshold - show all issues including info-level
severity = ["high", "med", "low", "info"]

# Exclude naming convention warnings (Uniswap conventions like sqrtRatioAX96, camelCase immutables)
exclude_lints = ["mixed-case-variable", "mixed-case-function", "screaming-snake-case-immutable"]

[rpc_endpoints]
local = "http://localhost:8545"
mainnet = "${RPC_URL_ETHEREUM}"
arbitrum = "${RPC_URL_ARBITRUM}"
base = "${RPC_URL_BASE}"
optimism = "${RPC_URL_OPTIMISM}"
polygon = "${RPC_URL_POLYGON}"

[etherscan]
mainnet = { key = "${ETHERSCAN_API_KEY}" }
arbitrum = { key = "${ARBISCAN_API_KEY}" }
base = { key = "${BASESCAN_API_KEY}" }
optimism = { key = "${OPTIMISM_API_KEY}" }
polygon = { key = "${POLYGONSCAN_API_KEY}" }
