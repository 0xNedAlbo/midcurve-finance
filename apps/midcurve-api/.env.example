# =============================================================================
# Midcurve API Environment Variables
# =============================================================================

# =============================================================================
# Database - Required
# =============================================================================
# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/midcurve_dev

# =============================================================================
# Node Environment
# =============================================================================
NODE_ENV=development

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins for CORS
# Example: http://localhost:3000,https://app.midcurve.finance
ALLOWED_ORIGINS=http://localhost:3000

# =============================================================================
# Cookie Configuration (Production)
# =============================================================================
# Domain for session cookies (enables cross-subdomain cookies)
# Example: .midcurve.finance (note the leading dot)
# Leave empty for localhost development
COOKIE_DOMAIN=

# =============================================================================
# Signer Service - Required for automation features
# =============================================================================
# URL of the signer service (handles key management and transaction signing)
SIGNER_URL=http://localhost:3003

# Shared secret for API-to-signer authentication
# Must match SIGNER_INTERNAL_API_KEY in the signer service
# Generate with: openssl rand -base64 32
SIGNER_INTERNAL_API_KEY=

# =============================================================================
# Automation Service - Required for contract deployment
# =============================================================================
# URL of the automation service (serves compiled contract bytecode)
AUTOMATION_URL=http://localhost:3004

# =============================================================================
# EVM Chain RPC URLs - Required for blockchain operations
# =============================================================================
# Get RPC URLs from providers like Alchemy, Infura, or QuickNode

# Ethereum Mainnet (Chain ID: 1)
RPC_URL_ETHEREUM=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Arbitrum One (Chain ID: 42161)
RPC_URL_ARBITRUM=https://arb-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Base (Chain ID: 8453)
RPC_URL_BASE=https://base-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# BNB Smart Chain (Chain ID: 56)
RPC_URL_BSC=https://bsc-dataseed1.binance.org

# Polygon (Chain ID: 137)
RPC_URL_POLYGON=https://polygon-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Optimism (Chain ID: 10)
RPC_URL_OPTIMISM=https://opt-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# =============================================================================
# Local Development Chain (OPTIONAL)
# =============================================================================
# Local Anvil fork for development testing (Chain ID: 31337)
# Only enabled when NODE_ENV !== 'production'
#
# Start Anvil fork with: cd apps/midcurve-automation && pnpm local:anvil
# RPC_URL_LOCAL=http://localhost:8545
#
# PositionCloser contract address for local chain (auto-generated by local:setup)
# POSITION_CLOSER_ADDRESS_LOCAL=0x...

# =============================================================================
# External API Keys - Optional but recommended
# =============================================================================
# CoinGecko API key for token enrichment (logos, prices)
# Get from: https://www.coingecko.com/en/api
COINGECKO_API_KEY=

# Etherscan API key for transaction history
# Get from: https://etherscan.io/apis
ETHERSCAN_API_KEY=

# The Graph API key for subgraph queries
# Get from: https://thegraph.com/studio/
THE_GRAPH_API_KEY=
