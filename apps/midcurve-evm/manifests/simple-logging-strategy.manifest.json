{
  "name": "Simple Logging Strategy",
  "version": "1.0.0",
  "description": "Minimal strategy for POC - logs multiple messages on every step event. This demonstrates the durable await pattern with multiple sequential effects.\n\nThe strategy uses LifecycleMixin for START/SHUTDOWN handling and LoggingMixin for durable logging effects.",
  "author": "Midcurve Finance",
  "abi": [
    {
      "type": "constructor",
      "inputs": [
        { "name": "operator_", "type": "address", "internalType": "address" },
        { "name": "core_", "type": "address", "internalType": "address" }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "core",
      "inputs": [],
      "outputs": [{ "name": "", "type": "address", "internalType": "address" }],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "epoch",
      "inputs": [],
      "outputs": [{ "name": "", "type": "uint64", "internalType": "uint64" }],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "eventsProcessed",
      "inputs": [],
      "outputs": [{ "name": "", "type": "uint256", "internalType": "uint256" }],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "gcEpoch",
      "inputs": [
        { "name": "epochToSweep", "type": "uint64", "internalType": "uint64" },
        { "name": "maxItems", "type": "uint256", "internalType": "uint256" }
      ],
      "outputs": [
        { "name": "swept", "type": "uint256", "internalType": "uint256" },
        { "name": "done", "type": "bool", "internalType": "bool" }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "lifecycleStatus",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint8",
          "internalType": "enum LifecycleMixin.LifecycleStatus"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "operator",
      "inputs": [],
      "outputs": [{ "name": "", "type": "address", "internalType": "address" }],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "step",
      "inputs": [{ "name": "input", "type": "bytes", "internalType": "bytes" }],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "submitEffectResult",
      "inputs": [
        { "name": "epoch_", "type": "uint64", "internalType": "uint64" },
        { "name": "idempotencyKey", "type": "bytes32", "internalType": "bytes32" },
        { "name": "ok", "type": "bool", "internalType": "bool" },
        { "name": "data", "type": "bytes", "internalType": "bytes" }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    { "type": "error", "name": "AlreadyActive", "inputs": [] },
    { "type": "error", "name": "AlreadyShutdown", "inputs": [] },
    { "type": "error", "name": "AlreadyShuttingDown", "inputs": [] },
    { "type": "error", "name": "AlreadyStarting", "inputs": [] },
    {
      "type": "error",
      "name": "EffectNeeded",
      "inputs": [
        { "name": "epoch", "type": "uint64", "internalType": "uint64" },
        { "name": "idempotencyKey", "type": "bytes32", "internalType": "bytes32" },
        { "name": "effectType", "type": "bytes32", "internalType": "bytes32" },
        { "name": "payload", "type": "bytes", "internalType": "bytes" }
      ]
    },
    { "type": "error", "name": "InvalidStepEvent", "inputs": [] },
    { "type": "error", "name": "NotActive", "inputs": [] },
    { "type": "error", "name": "NotCore", "inputs": [] },
    { "type": "error", "name": "NotOperator", "inputs": [] },
    {
      "type": "error",
      "name": "UnknownLifecycleCommand",
      "inputs": [{ "name": "command", "type": "bytes32", "internalType": "bytes32" }]
    },
    {
      "type": "error",
      "name": "UnsupportedLifecycleVersion",
      "inputs": [{ "name": "got", "type": "uint32", "internalType": "uint32" }]
    },
    { "type": "error", "name": "ZeroAddress", "inputs": [] }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506040516200149d3803806200149d833981016040819052610031916100be565b81816001600160a01b038216158061005057506001600160a01b038116155b1561006e5760405163d92e233d60e01b815260040160405180910390fd5b600080546001600160a01b039384166001600160a01b03199182161790915560018054929093169116179055506100f19050565b80516001600160a01b03811681146100b957600080fd5b919050565b600080604083850312156100d157600080fd5b6100da836100a2565b91506100e8602084016100a2565b90509250929050565b61139c80620001016000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b89f756d1161005b578063b89f756d14610121578063c41b486f14610138578063cdeba62d1461014d578063f2f4eb261461016057600080fd5b8063570ca7351461008d57806358571086146100bd5780637f79cdb5146100de578063900cf0cf14610106575b600080fd5b6000546100a0906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6005546100d190600160401b900460ff1681565b6040516100b49190610eda565b6100f16100ec366004610f1e565b610173565b604080519283529015156020830152016100b4565b6005546040516001600160401b0390911681526020016100b4565b61012a60065481565b6040519081526020016100b4565b61014b610146366004610f89565b6103a0565b005b61014b61015b366004610ffe565b61055c565b6001546100a0906001600160a01b031681565b60015460009081906001600160a01b031633146101a35760405163e2aae06b60e01b815260040160405180910390fd5b6005546001600160401b03908116908516106101f55760405162461bcd60e51b815260206004820152600c60248201526b0c2c6e8d2ecca40cae0dec6d60a31b60448201526064015b60405180910390fd5b600083116102325760405162461bcd60e51b815260206004820152600a60248201526906d61784974656d733d360b41b60448201526064016101ec565b6001600160401b0384166000908152600360209081526040808320600490925290912054815480821061026f576000600194509450505050610399565b600061027b8784611055565b9050818111156102885750805b80831015610305576001600160401b038816600090815260026020526040812085549091908690869081106102bf576102bf61106e565b600091825260208083209091015483528201929092526040018120805460ff19168155906102f06001830182610e57565b505082806102fd90611084565b935050610288565b6001600160401b038816600090815260046020526040902054610328908261109d565b6001600160401b0389166000908152600460205260409020829055955081810361038f576001600160401b038816600090815260036020526040812061036d91610e91565b6001600160401b03881660009081526004602052604081205560019450610394565b600094505b505050505b9250929050565b6000546001600160a01b031633146103cb57604051631f0853c160e21b815260040160405180910390fd5b6005546001600160401b03908116908616111561041a5760405162461bcd60e51b815260206004820152600d60248201526c65706f636820746f6f206e657760981b60448201526064016101ec565b6001600160401b0385166000908152600260209081526040808320878452909152812090815460ff16600281111561045457610454610ec4565b146104e85783801561047b57506001815460ff16600281111561047957610479610ec4565b145b806104a45750831580156104a457506002815460ff1660028111156104a2576104a2610ec4565b145b6104e25760405162461bcd60e51b815260206004820152600f60248201526e0e6e8c2e8eae640dad2e6dac2e8c6d608b1b60448201526064016101ec565b50610555565b836104f45760026104f7565b60015b8154829060ff1916600183600281111561051357610513610ec4565b021790555060018101610527838583611146565b50506001600160401b0385166000908152600360209081526040822080546001810182559083529120018490555b5050505050565b6000546001600160a01b0316331461058757604051631f0853c160e21b815260040160405180910390fd5b600080600061059685856105d1565b9250925092506105a7838383610611565b5050600580546001600160401b038082166001011667ffffffffffffffff19909116179055505050565b6000806060808410156105f75760405163dffef72760e01b815260040160405180910390fd5b61060384860186611205565b919790965090945092505050565b7fd5b3bbdfb49ea04b2c75b919c721f1ef65f0754b86e4cbf7df9b4bcd53ceaf2a830361064857610643838383610793565b505050565b610653838383610793565b61065b610857565b61066457505050565b6106af7fb9d8afb661a1ae3d869b39a8ab145957069b3ed1963a3ab0ad319b72c8f1775a8460405160200161069b91815260200190565b60405160208183030381529060405261087f565b61070e7ffa6cf24d0b856905842a63cfdf6bd088aa08524305b7d050b498627fb64480696106e56005546001600160401b031690565b604080516001600160401b0390921660208301520160405160208183030381529060405261088f565b6107477f87b85dac49bd20c433e394d3eb5c2dae5f7ba82b66cb9d5a5c137c91774a05ce60065460405160200161069b91815260200190565b6006805490600061075783611084565b91905055506106437fa02ae5219c26a1b90f12441a8f6b09b02f4bbdfff76c82087b17d771cb94875c8460405160200161069b91815260200190565b7fd5b3bbdfb49ea04b2c75b919c721f1ef65f0754b86e4cbf7df9b4bcd53ceaf2a83036108105763ffffffff82166001146107e957604051635f65f6e560e11b815263ffffffff831660048201526024016101ec565b6000818060200190518101906107ff91906112da565b905061080a8161089b565b50505050565b6003600554600160401b900460ff16600481111561083057610830610ec4565b036106435760016005805460ff60401b19166804000000000000000017905561080a610ad2565b60006002600554600160401b900460ff16600481111561087957610879610ec4565b14905090565b61088b60018383610b2d565b5050565b61088b60008383610b2d565b7fbe3c26a64d88239991ba164ff2b468dd1f37dd3d8107c4c763966a7a0402c73f81036109f0576001600554600160401b900460ff1660048111156108e2576108e2610ec4565b036109005760405163e8adcfdd60e01b815260040160405180910390fd5b6002600554600160401b900460ff16600481111561092057610920610ec4565b0361093e57604051637cdf305160e11b815260040160405180910390fd5b6003600554600160401b900460ff16600481111561095e5761095e610ec4565b0361097c5760405163645a81c160e11b815260040160405180910390fd5b6004600554600160401b900460ff16600481111561099c5761099c610ec4565b036109ba576040516365eca15b60e11b815260040160405180910390fd5b6005805460ff60401b1916600160401b1790556109d5610c61565b506005805460ff60401b191668020000000000000000179055565b7f2b22d873f791abe31d4310d327f02daef6f297a9bbbce4a994bf2bbeadf02d578103610ab6576004600554600160401b900460ff166004811115610a3757610a37610ec4565b03610a55576040516365eca15b60e11b815260040160405180910390fd5b6003600554600160401b900460ff166004811115610a7557610a75610ec4565b03610a935760405163645a81c160e11b815260040160405180910390fd5b6005805460ff60401b191668030000000000000000179055610ab3610cb9565b50565b6040516314fcdc7f60e31b8152600481018290526024016101ec565b610b2b7fe7ce6dc7d427ccb222a5bd9b6ea61718cfb743900db9f6fb2e26959c6864965a60405160200161069b9060208082526011908201527053687574646f776e20636f6d706c65746560781b604082015260600190565b565b6000610b416005546001600160401b031690565b600554604051626c6f6760e81b60208201526001600160c01b031960c093841b81166023830152600160481b90920490921b16602b8201526033016040516020818303038152906040528051906020012090506000848484604051602001610bab93929190611339565b60405160208183030381529060405290506000610be9837f3039cf35251df02018e097e77a4115938266b3ac806536a8f6032d2875a046cf84610d13565b5090506000816001811115610c0057610c00610ec4565b1480610c1d57506001816001811115610c1b57610c1b610ec4565b145b15610c5957600580546001600160401b03600160481b80830482166001019091160270ffffffffffffffff000000000000000000199091161790555b505050505050565b610b2b7fe7ce6dc7d427ccb222a5bd9b6ea61718cfb743900db9f6fb2e26959c6864965a60405160200161069b9060208082526010908201526f14dd1c985d1959de481cdd185c9d195960821b604082015260600190565b610b2b7fe7ce6dc7d427ccb222a5bd9b6ea61718cfb743900db9f6fb2e26959c6864965a60405160200161069b9060208082526012908201527114da1d5d191bdddb881c995c5d595cdd195960721b604082015260600190565b6005546001600160401b0316600090815260026020908152604080832086845290915281206060906001815460ff166002811115610d5357610d53610ec4565b03610df457600081600101808054610d6a906110c6565b80601f0160208091040260200160405190810160405280929190818152602001828054610d96906110c6565b8015610de35780601f10610db857610100808354040283529160200191610de3565b820191906000526020600020905b815481529060010190602001808311610dc657829003601f168201915b505050505090509250925050610e4f565b6002815460ff166002811115610e0c57610e0c610ec4565b03610e2357600181600101808054610d6a906110c6565b6005546040516373ecc7fd60e11b81526101ec916001600160401b031690889088908890600401611364565b935093915050565b508054610e63906110c6565b6000825580601f10610e73575050565b601f016020900490600052602060002090810190610ab39190610eab565b5080546000825590600052602060002090810190610ab391905b5b80821115610ec05760008155600101610eac565b5090565b634e487b7160e01b600052602160045260246000fd5b6020810160058310610efc57634e487b7160e01b600052602160045260246000fd5b91905290565b80356001600160401b0381168114610f1957600080fd5b919050565b60008060408385031215610f3157600080fd5b610f3a83610f02565b946020939093013593505050565b60008083601f840112610f5a57600080fd5b5081356001600160401b03811115610f7157600080fd5b60208301915083602082850101111561039957600080fd5b600080600080600060808688031215610fa157600080fd5b610faa86610f02565b94506020860135935060408601358015158114610fc657600080fd5b925060608601356001600160401b03811115610fe157600080fd5b610fed88828901610f48565b969995985093965092949392505050565b6000806020838503121561101157600080fd5b82356001600160401b0381111561102757600080fd5b61103385828601610f48565b90969095509350505050565b634e487b7160e01b600052601160045260246000fd5b808201808211156110685761106861103f565b92915050565b634e487b7160e01b600052603260045260246000fd5b6000600182016110965761109661103f565b5060010190565b818103818111156110685761106861103f565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806110da57607f821691505b6020821081036110fa57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111561064357600081815260208120601f850160051c810160208610156111275750805b601f850160051c820191505b81811015610c5957828155600101611133565b6001600160401b0383111561115d5761115d6110b0565b6111718361116b83546110c6565b83611100565b6000601f8411600181146111a5576000851561118d5750838201355b600019600387901b1c1916600186901b178355610555565b600083815260209020601f19861690835b828110156111d657868501358255602094850194600190920191016111b6565b50868210156111f35760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b60008060006060848603121561121a57600080fd5b83359250602084013563ffffffff8116811461123557600080fd5b915060408401356001600160401b038082111561125157600080fd5b818601915086601f83011261126557600080fd5b813581811115611277576112776110b0565b604051601f8201601f19908116603f0116810190838211818310171561129f5761129f6110b0565b816040528281528960208487010111156112b857600080fd5b8260208601602083013760006020848301015280955050505050509250925092565b6000602082840312156112ec57600080fd5b5051919050565b6000815180845260005b81811015611319576020818501810151868301820152016112fd565b506000602082860101526020601f19601f83011685010191505092505050565b60ff8416815282602082015260606040820152600061135b60608301846112f3565b95945050505050565b6001600160401b038516815283602082015282604082015260806060820152600061139260808301846112f3565b969550505050505056",
  "constructorParams": [
    {
      "name": "operator_",
      "type": "address",
      "source": "operator-address",
      "ui": {
        "element": "hidden",
        "label": "Operator Address",
        "description": "Per-strategy automation wallet (KMS-backed) that executes step() calls"
      }
    },
    {
      "name": "core_",
      "type": "address",
      "source": "core-address",
      "ui": {
        "element": "hidden",
        "label": "Core Address",
        "description": "Core orchestrator address that funds GC operations"
      }
    }
  ],
  "tags": ["example", "logging", "poc", "beginner"],
  "quoteToken": {
    "type": "basic-currency",
    "symbol": "USD"
  }
}
