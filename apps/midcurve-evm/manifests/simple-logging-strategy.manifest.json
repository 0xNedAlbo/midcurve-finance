{
  "name": "Simple Logging Strategy",
  "version": "1.0.0",
  "description": "Minimal strategy for POC - logs multiple messages on every step event. This demonstrates the durable await pattern with multiple sequential effects.\n\nThe strategy uses LifecycleMixin for START/SHUTDOWN handling and LoggingMixin for durable logging effects.",
  "author": "Midcurve Finance",
  "abi": [
    {
      "type": "constructor",
      "inputs": [
        {
          "name": "operator_",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "core_",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "core",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "epoch",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint64",
          "internalType": "uint64"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "eventsProcessed",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "gcEpoch",
      "inputs": [
        {
          "name": "epochToSweep",
          "type": "uint64",
          "internalType": "uint64"
        },
        {
          "name": "maxItems",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [
        {
          "name": "swept",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "done",
          "type": "bool",
          "internalType": "bool"
        }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "lifecycleStatus",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint8",
          "internalType": "enum LifecycleMixin.LifecycleStatus"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "operator",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "step",
      "inputs": [
        {
          "name": "input",
          "type": "bytes",
          "internalType": "bytes"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "submitEffectResult",
      "inputs": [
        {
          "name": "epoch_",
          "type": "uint64",
          "internalType": "uint64"
        },
        {
          "name": "idempotencyKey",
          "type": "bytes32",
          "internalType": "bytes32"
        },
        {
          "name": "ok",
          "type": "bool",
          "internalType": "bool"
        },
        {
          "name": "data",
          "type": "bytes",
          "internalType": "bytes"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "error",
      "name": "AlreadyActive",
      "inputs": []
    },
    {
      "type": "error",
      "name": "AlreadyShutdown",
      "inputs": []
    },
    {
      "type": "error",
      "name": "AlreadyShuttingDown",
      "inputs": []
    },
    {
      "type": "error",
      "name": "AlreadyStarting",
      "inputs": []
    },
    {
      "type": "error",
      "name": "EffectNeeded",
      "inputs": [
        {
          "name": "epoch",
          "type": "uint64",
          "internalType": "uint64"
        },
        {
          "name": "idempotencyKey",
          "type": "bytes32",
          "internalType": "bytes32"
        },
        {
          "name": "effectType",
          "type": "bytes32",
          "internalType": "bytes32"
        },
        {
          "name": "payload",
          "type": "bytes",
          "internalType": "bytes"
        }
      ]
    },
    {
      "type": "error",
      "name": "InvalidStepEvent",
      "inputs": []
    },
    {
      "type": "error",
      "name": "NotActive",
      "inputs": []
    },
    {
      "type": "error",
      "name": "NotCore",
      "inputs": []
    },
    {
      "type": "error",
      "name": "NotOperator",
      "inputs": []
    },
    {
      "type": "error",
      "name": "UnknownLifecycleCommand",
      "inputs": [
        {
          "name": "command",
          "type": "bytes32",
          "internalType": "bytes32"
        }
      ]
    },
    {
      "type": "error",
      "name": "UnsupportedLifecycleVersion",
      "inputs": [
        {
          "name": "got",
          "type": "uint32",
          "internalType": "uint32"
        }
      ]
    },
    {
      "type": "error",
      "name": "ZeroAddress",
      "inputs": []
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b5060405162001538380380620015388339810160408190526200003491620000c5565b81816001600160a01b03821615806200005457506001600160a01b038116155b15620000735760405163d92e233d60e01b815260040160405180910390fd5b600080546001600160a01b039384166001600160a01b0319918216179091556001805492909316911617905550620000fd9050565b80516001600160a01b0381168114620000c057600080fd5b919050565b60008060408385031215620000d957600080fd5b620000e483620000a8565b9150620000f460208401620000a8565b90509250929050565b61142b806200010d6000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b89f756d1161005b578063b89f756d14610121578063c41b486f14610138578063cdeba62d1461014d578063f2f4eb261461016057600080fd5b8063570ca7351461008d57806358571086146100bd5780637f79cdb5146100de578063900cf0cf14610106575b600080fd5b6000546100a0906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6005546100d190600160401b900460ff1681565b6040516100b49190610f4f565b6100f16100ec366004610f93565b610173565b604080519283529015156020830152016100b4565b6005546040516001600160401b0390911681526020016100b4565b61012a60065481565b6040519081526020016100b4565b61014b610146366004610ffe565b6103a0565b005b61014b61015b366004611073565b61055c565b6001546100a0906001600160a01b031681565b60015460009081906001600160a01b031633146101a35760405163e2aae06b60e01b815260040160405180910390fd5b6005546001600160401b03908116908516106101f55760405162461bcd60e51b815260206004820152600c60248201526b0c2c6e8d2ecca40cae0dec6d60a31b60448201526064015b60405180910390fd5b600083116102325760405162461bcd60e51b815260206004820152600a60248201526906d61784974656d733d360b41b60448201526064016101ec565b6001600160401b0384166000908152600360209081526040808320600490925290912054815480821061026f576000600194509450505050610399565b600061027b87846110ca565b9050818111156102885750805b80831015610305576001600160401b038816600090815260026020526040812085549091908690869081106102bf576102bf6110e3565b600091825260208083209091015483528201929092526040018120805460ff19168155906102f06001830182610ec9565b505082806102fd906110f9565b935050610288565b6001600160401b0388166000908152600460205260409020546103289082611112565b6001600160401b0389166000908152600460205260409020829055955081810361038f576001600160401b038816600090815260036020526040812061036d91610f06565b6001600160401b03881660009081526004602052604081205560019450610394565b600094505b505050505b9250929050565b6000546001600160a01b031633146103cb57604051631f0853c160e21b815260040160405180910390fd5b6005546001600160401b03908116908616111561041a5760405162461bcd60e51b815260206004820152600d60248201526c65706f636820746f6f206e657760981b60448201526064016101ec565b6001600160401b0385166000908152600260209081526040808320878452909152812090815460ff16600281111561045457610454610f39565b146104e85783801561047b57506001815460ff16600281111561047957610479610f39565b145b806104a45750831580156104a457506002815460ff1660028111156104a2576104a2610f39565b145b6104e25760405162461bcd60e51b815260206004820152600f60248201526e0e6e8c2e8eae640dad2e6dac2e8c6d608b1b60448201526064016101ec565b50610555565b836104f45760026104f7565b60015b8154829060ff1916600183600281111561051357610513610f39565b0217905550600181016105278385836111bb565b50506001600160401b0385166000908152600360209081526040822080546001810182559083529120018490555b5050505050565b6000546001600160a01b0316331461058757604051631f0853c160e21b815260040160405180910390fd5b600080600061059685856105d1565b9250925092506105a7838383610611565b5050600580546001600160401b038082166001011667ffffffffffffffff19909116179055505050565b6000806060808410156105f75760405163dffef72760e01b815260040160405180910390fd5b6106038486018661127a565b919790965090945092505050565b7fd5b3bbdfb49ea04b2c75b919c721f1ef65f0754b86e4cbf7df9b4bcd53ceaf2a8303610648576106438383836107e5565b505050565b6106538383836107e5565b61065b6108a4565b61066457505050565b6106bb7fb9d8afb661a1ae3d869b39a8ab145957069b3ed1963a3ab0ad319b72c8f1775a60405180604001604052806015815260200174141c9bd8d95cdcda5b99c81cdd195c08195d995b9d605a1b8152506108cc565b6107127ffa6cf24d0b856905842a63cfdf6bd088aa08524305b7d050b498627fb644806960405180604001604052806015815260200174115c1bd8da0818da1958dac818dbdb5c1b195d1959605a1b8152506108dc565b6107717f87b85dac49bd20c433e394d3eb5c2dae5f7ba82b66cb9d5a5c137c91774a05ce6040518060400160405280601b81526020017f496e6372656d656e74696e67206576656e747320636f756e74657200000000008152506108cc565b60068054906000610781836110f9565b91905055506106437fa02ae5219c26a1b90f12441a8f6b09b02f4bbdfff76c82087b17d771cb94875c6040518060400160405280601e81526020017f53746570206576656e742070726f63657373696e6720636f6d706c65746500008152506108cc565b7fd5b3bbdfb49ea04b2c75b919c721f1ef65f0754b86e4cbf7df9b4bcd53ceaf2a83036108625763ffffffff821660011461083b57604051635f65f6e560e11b815263ffffffff831660048201526024016101ec565b600081806020019051810190610851919061134f565b905061085c816108e8565b50505050565b6003600554600160401b900460ff16600481111561088257610882610f39565b036106435760016005805460ff60401b1916600160421b17905561085c610b39565b60006002600554600160401b900460ff1660048111156108c6576108c6610f39565b14905090565b6108d860018383610b8e565b5050565b6108d860008383610b8e565b7fbe3c26a64d88239991ba164ff2b468dd1f37dd3d8107c4c763966a7a0402c73f8103610a3d576001600554600160401b900460ff16600481111561092f5761092f610f39565b0361094d5760405163e8adcfdd60e01b815260040160405180910390fd5b6002600554600160401b900460ff16600481111561096d5761096d610f39565b0361098b57604051637cdf305160e11b815260040160405180910390fd5b6003600554600160401b900460ff1660048111156109ab576109ab610f39565b036109c95760405163645a81c160e11b815260040160405180910390fd5b6004600554600160401b900460ff1660048111156109e9576109e9610f39565b03610a07576040516365eca15b60e11b815260040160405180910390fd5b6005805460ff60401b1916600160401b179055610a22610cdf565b506005805460ff60401b191668020000000000000000179055565b7f2b22d873f791abe31d4310d327f02daef6f297a9bbbce4a994bf2bbeadf02d578103610b1d576004600554600160401b900460ff166004811115610a8457610a84610f39565b03610aa2576040516365eca15b60e11b815260040160405180910390fd5b6003600554600160401b900460ff166004811115610ac257610ac2610f39565b03610ae05760405163645a81c160e11b815260040160405180910390fd5b6005805460ff60401b191668030000000000000000179055610b00610d31565b60016005805460ff60401b1916600160421b1790556108d8610b39565b6040516314fcdc7f60e31b8152600481018290526024016101ec565b610b8c7fe7ce6dc7d427ccb222a5bd9b6ea61718cfb743900db9f6fb2e26959c6864965a6040518060400160405280601181526020017053687574646f776e20636f6d706c65746560781b8152506108cc565b565b6000610ba26005546001600160401b031690565b600554604051626c6f6760e81b60208201526001600160c01b031960c093841b81166023830152600160481b90920490921b16602b8201526033016040516020818303038152906040528051906020012090506000848484604051602001610c0a91906113ae565b60408051601f1981840301815290829052610c299392916020016113c8565b60405160208183030381529060405290506000610c67837f3039cf35251df02018e097e77a4115938266b3ac806536a8f6032d2875a046cf84610d85565b5090506000816001811115610c7e57610c7e610f39565b1480610c9b57506001816001811115610c9957610c99610f39565b145b15610cd757600580546001600160401b03600160481b80830482166001019091160270ffffffffffffffff000000000000000000199091161790555b505050505050565b610b8c7fe7ce6dc7d427ccb222a5bd9b6ea61718cfb743900db9f6fb2e26959c6864965a6040518060400160405280601081526020016f14dd1c985d1959de481cdd185c9d195960821b8152506108cc565b610b8c7fe7ce6dc7d427ccb222a5bd9b6ea61718cfb743900db9f6fb2e26959c6864965a6040518060400160405280601281526020017114da1d5d191bdddb881c995c5d595cdd195960721b8152506108cc565b6005546001600160401b0316600090815260026020908152604080832086845290915281206060906001815460ff166002811115610dc557610dc5610f39565b03610e6657600081600101808054610ddc9061113b565b80601f0160208091040260200160405190810160405280929190818152602001828054610e089061113b565b8015610e555780601f10610e2a57610100808354040283529160200191610e55565b820191906000526020600020905b815481529060010190602001808311610e3857829003601f168201915b505050505090509250925050610ec1565b6002815460ff166002811115610e7e57610e7e610f39565b03610e9557600181600101808054610ddc9061113b565b6005546040516373ecc7fd60e11b81526101ec916001600160401b0316908890889088906004016113f3565b935093915050565b508054610ed59061113b565b6000825580601f10610ee5575050565b601f016020900490600052602060002090810190610f039190610f20565b50565b5080546000825590600052602060002090810190610f0391905b5b80821115610f355760008155600101610f21565b5090565b634e487b7160e01b600052602160045260246000fd5b6020810160058310610f7157634e487b7160e01b600052602160045260246000fd5b91905290565b80356001600160401b0381168114610f8e57600080fd5b919050565b60008060408385031215610fa657600080fd5b610faf83610f77565b946020939093013593505050565b60008083601f840112610fcf57600080fd5b5081356001600160401b03811115610fe657600080fd5b60208301915083602082850101111561039957600080fd5b60008060008060006080868803121561101657600080fd5b61101f86610f77565b9450602086013593506040860135801515811461103b57600080fd5b925060608601356001600160401b0381111561105657600080fd5b61106288828901610fbd565b969995985093965092949392505050565b6000806020838503121561108657600080fd5b82356001600160401b0381111561109c57600080fd5b6110a885828601610fbd565b90969095509350505050565b634e487b7160e01b600052601160045260246000fd5b808201808211156110dd576110dd6110b4565b92915050565b634e487b7160e01b600052603260045260246000fd5b60006001820161110b5761110b6110b4565b5060010190565b818103818111156110dd576110dd6110b4565b634e487b7160e01b600052604160045260246000fd5b600181811c9082168061114f57607f821691505b60208210810361116f57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111561064357600081815260208120601f850160051c8101602086101561119c5750805b601f850160051c820191505b81811015610cd7578281556001016111a8565b6001600160401b038311156111d2576111d2611125565b6111e6836111e0835461113b565b83611175565b6000601f84116001811461121a57600085156112025750838201355b600019600387901b1c1916600186901b178355610555565b600083815260209020601f19861690835b8281101561124b578685013582556020948501946001909201910161122b565b50868210156112685760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b60008060006060848603121561128f57600080fd5b83359250602084013563ffffffff811681146112aa57600080fd5b915060408401356001600160401b03808211156112c657600080fd5b818601915086601f8301126112da57600080fd5b8135818111156112ec576112ec611125565b604051601f8201601f19908116603f0116810190838211818310171561131457611314611125565b8160405282815289602084870101111561132d57600080fd5b8260208601602083013760006020848301015280955050505050509250925092565b60006020828403121561136157600080fd5b5051919050565b6000815180845260005b8181101561138e57602081850181015186830182015201611372565b506000602082860101526020601f19601f83011685010191505092915050565b6020815260006113c16020830184611368565b9392505050565b60ff841681528260208201526060604082015260006113ea6060830184611368565b95945050505050565b6001600160401b03851681528360208201528260408201526080606082015260006114216080830184611368565b969550505050505056",
  "constructorParams": [
    {
      "name": "operator_",
      "type": "address",
      "source": "operator-address",
      "ui": {
        "element": "hidden",
        "label": "Operator Address",
        "description": "Per-strategy automation wallet (KMS-backed) that executes step() calls"
      }
    },
    {
      "name": "core_",
      "type": "address",
      "source": "core-address",
      "ui": {
        "element": "hidden",
        "label": "Core Address",
        "description": "Core orchestrator address that funds GC operations"
      }
    }
  ],
  "tags": [
    "example",
    "logging",
    "poc",
    "beginner"
  ],
  "quoteToken": {
    "type": "basic-currency",
    "symbol": "USD"
  },
  "logTopics": {
    "LIFECYCLE": "Lifecycle state changes (start, shutdown)",
    "STEP_START": "Step event started processing",
    "EPOCH_INFO": "Current epoch information",
    "EVENTS_COUNT": "Events processed counter",
    "STEP_COMPLETE": "Step event processing complete"
  }
}